{"version":3,"file":"src_app_image-manager_image-manager_module_ts.js","mappings":"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","sources":["./src/app/directives/image-manager-delete.directive.ts","./src/app/image-manager/image-manager-directories.service.ts","./src/app/image-manager/image-manager.component.ts","./src/app/image-manager/image-manager.module.ts","./src/app/image-manager/image-manager.routes.ts","./src/app/image-manager/search-library-pages.pipe.ts","./src/app/image-manager/image-manager.component.css"],"sourcesContent":["import {Directive, Renderer2, ElementRef, OnInit, HostListener} from \"@angular/core\";\n\n\n@Directive({\n    selector: '[ImageManagerDeleteDirective]'\n})\n\nexport class ImageManagerDeleteDirective implements OnInit {\n    constructor(private renderer: Renderer2, private el: ElementRef) {}\n\n    private confirmedDeleteImg: boolean =  false;\n    ngOnInit() {\n\n        }\n\n    @HostListener('click', ['$event']) onClick($event){\n        console.info('clicked: ' + $event);\n        console.log(this.renderer['delegate'].component.inputs.innerHTML = '#HELLO HELLO HELLO');\n        //this.renderer['delegate'].component.inputs.addClass()\n        this.renderer.addClass(this.el.nativeElement, 'hide')\n    // }\n}}\n","import {Injectable} from '@angular/core';\nimport {Subscriber, Observable} from \"rxjs\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n\ndeclare var $: any;\n\n@Injectable()\nexport class ImageManagerDirectoriesService {\n\n    constructor(private _http: HttpClient) {\n    }\n\n    public data: any;\n    public account: any;\n    public r: any;\n    public image_files: any[] = [];\n\n    /**\n     * get ratio directories from image repository\n     * @param ratiodir\n     * @returns {Observable<Response>}\n     */\n    getRatioDirectories(ratiodir): Observable<any>{\n\n        //let bob =  this._http.get('https://www.sesamehub.com/image-manager/browse');\n        // console.log(bob);\n        return this._http.get('https://www.sesamehub.com/image-manager/browse');\n    }\n\n    /**\n     * Get directories within the selected ratio directory (r). ie: 1x1, 3x4 etc\n     */\n    getRatioDirContents(imagerepo, r): Observable<any> {\n        console.log(imagerepo, r);\n        return this._http.get('https://www.sesamehub.com/image-manager/browse?ratio=' + r);\n    }\n\n    /**\n     * Set info to /dashboard/data/data.json ie: {\"imageManager\":[{\"ratio\":\"3x4\",\"category\":\"asian\"}]} (Currently functional but not in use. For future development).\n     * @param data\n     * @returns {Observable<Response>}\n     */\n    setImageRatioData(ratio) {\n        const body = JSON.stringify(ratio);\n        const headers = new HttpHeaders();\n        headers.append('Content-Type', 'application/json');\n        return this._http.post('/dashboard/endpoints/set-image-manager-data-endpoint.php', body, {headers: headers});\n    }\n\n    /**\n     * Add to json\n     * @param category\n     * @returns {Observable<Response>}\n     */\n    setImageCategoryData(category) {\n        const body = JSON.stringify(category);\n        const headers = new HttpHeaders();\n        headers.append('Content-Type', 'application/json');\n        return this._http.post('/dashboard/endpoints/set-image-manager-data-endpoint.php', body, {headers: headers});\n    }\n\n    /**\n     * Get all images in imagerepo directory\n     * @param ratio\n     * @param category\n     * @returns {Observable<Response>}\n     */\n    getImages(ratio, category, imagerepo) {\n        return this._http.get('https://www.sesamehub.com/image-manager/browse?ratio=' + ratio + '&category=' + category);\n    }\n\n}\n","import {\n    Component, OnInit, Input, ViewChild, ElementRef, Renderer2, AfterViewInit} from '@angular/core';\nimport {ImageManagerDirectoriesService} from './image-manager-directories.service';\nimport {SiteContextProviderService} from '../../dev-tools/site-context-provider/services/site-context-provider.service';\nimport {ImageManagerCopyToLocalDirService} from './image-manager-copy-to-local-dir.service';\nimport {ShowHideContentService} from '../services/show-hide-content.service';\nimport {ManageLibraryPagesService} from '../admin-dashboard/admin-image-manager/manage-library-pages.service';\nimport {SnackbarService} from \"../services/snackbar.service\";\n\n@Component({\n    selector: 'dev-image-manager',\n    templateUrl: './image-manager.component.html',\n    styleUrls: ['./image-manager.component.css']\n})\nexport class ImageManagerComponent implements OnInit, AfterViewInit {\n\n    public imagerepo = 'stock-images';\n    private account: string;\n    private sitecontext: any;\n    // categories\n    public category: string;\n    public imageCategory: string;\n    public image_categories: any;\n    public imageCategoriesStatus = false;\n    public imageCategoriesStatusMsg: string;\n    // images\n    public noImagesMessage: string;\n    public selectedSuccessMessage: string;\n    public image_files: any[] = [];\n    // thumbs\n    public available_image_thumbs: any;\n    public newFileName: string;\n    public currentFileName: string;\n    // pages\n    public pageTitleSelectedMsg: string;\n    public pageTitleError = true;\n    public filterargs = {lib_page: 'abo-certification'};\n    // local images\n    public local_images: any[] = [];\n    public localimg: string;\n    public localImageData: any[] = [];\n    // delete\n    private deleteConfirmationArray: boolean[] = [];\n    private confirm = false;\n    private cancel = false;\n    // pages\n    public ind: number;\n    public pageSelected: string;\n    public selectImageStatus = false;\n    public selectImageStatusMsg: string;\n    // ratios\n    public ratioDirectory: any;\n    public ratioSelected: any;\n    public ratio: string;\n    public image_ratios: any[] = [];\n    public imageRatioStatus = false;\n    public imageRatioStatusMsg: string;\n    public library_pages: any[] = [];\n\n    @Input() imageContainer = 'bob';\n    @ViewChild('imageContainer') divView: ElementRef;\n\n    constructor(\n        private _imageManagerDirectoriesService: ImageManagerDirectoriesService,\n        private _siteContextProviderService: SiteContextProviderService,\n        private _imageManagerCopyToLocalDirService: ImageManagerCopyToLocalDirService,\n        public _manageLibraryPagesService: ManageLibraryPagesService,\n        private _snackBarService: SnackbarService,\n        public el: ElementRef,\n        public renderer: Renderer2,\n        private _showHideContent: ShowHideContentService) {\n    }\n\n    ngAfterViewInit() {}\n\n    /**\n     * PATH TO STOCK IMAGES REPO ON THE HUB SRWD.  /srwd/www/assets/images/stock-images/\n     * @type {string}\n     */\n\n    ngOnInit() {\n        this.onGetSiteContext();\n\n        this.getRatioDirs(this.imagerepo);\n\n        if (this.image_categories == null) {\n            this.imageCategoriesStatus = false;\n            this.imageCategoriesStatusMsg = 'Select a category';\n        }\n\n        if (this.image_categories == null) {\n            this.imageRatioStatus = false;\n            this.imageRatioStatusMsg = 'Select a ratio';\n        }\n\n        this.getPageTitles();\n    }\n\n    /**\n     * Get library pages from /dashboard/data/image-manager-library-pages.json data\n     */\n    getPageTitles() {\n        this._manageLibraryPagesService.getData().subscribe(\n            res => {\n                let data;\n                try {\n                    data = res;\n                } catch (e) {\n                    return;\n                }\n                this.library_pages = data.library_pages;\n            }), error => console.log(error);\n    }\n\n    /**\n     * Get account directory name on click event in site-context html\n     * @returns {any}\n     */\n    onGetSiteContext() {\n        this._siteContextProviderService.getCurrentContext().subscribe(\n            data => {\n                this.sitecontext = data;\n                // get local image files from assets/uploads/images when page loads\n                this.getLocalFiles();\n            },\n            error => console.log(error)\n        );\n        return this.sitecontext;\n    }\n\n    /**\n     * Get account image files from assets/uploads/images\n     */\n    getLocalFiles() {\n        this._imageManagerCopyToLocalDirService.listLocalAccountImages(this.sitecontext.account).subscribe(\n            localImageData => {\n                this.localimg = new Date().getTime().toString();\n                this.local_images = localImageData;\n                if (localImageData) {\n                } else {\n                    this.noImagesMessage = 'No images selected available for this ratio';\n                }\n            },\n            error => console.log(error)\n        );\n    }\n\n    /**\n     * Show hide content areas within forms\n     * @param item\n     */\n    showHide(item) {\n        this._showHideContent.showHideContent(item);\n    }\n\n    /**\n     * @param imagerepo (image repository main directory on srwd)\n     * @returns {any[]}\n     */\n    getRatioDirs(imagerepo) {\n\n        this._imageManagerDirectoriesService.getRatioDirectories(imagerepo).subscribe(\n            data => {\n                this.image_ratios = data;\n\n                if (data) {\n                } else {\n                    this.noImagesMessage = 'No ratio directories available!';\n                }\n            },\n            error => console.log(error)\n        );\n        return this.image_ratios;\n    }\n\n    /**\n     * Select category ie: adult, children, braces etc.\n     * @param cat\n     */\n    selectImageCategory(cat) {\n        this.imageCategory = cat;\n        let categorydata = {\n            imageManager: [{ratio: this.ratio, category: this.category}]\n        }\n\n\n        this._imageManagerDirectoriesService.setImageCategoryData(categorydata).subscribe(\n            data => {\n                this.getAvailableImages(this.ratio, this.category);\n            },\n            error => console.log(error)\n        );\n        this.pageTitleError = false;\n        this.pageTitleSelectedMsg = 'Select page title';\n        this.imageCategoriesStatus = true;\n    }\n\n    /**\n     * @param ratio\n     */\n    setRatioData(ratio = this.ratio, cat = null) {\n        this.ratio = ratio;\n        this.imageRatioStatus = true;\n        this.ratioSelected = this.ratio;\n\n        let ratiodata =\n            {\n                imageManager: [{ratio: ratio, category: cat}]\n            }\n\n        this._imageManagerDirectoriesService.setImageRatioData(ratiodata).subscribe(\n            data => {\n            },\n            error => console.log(error)\n        );\n\n        this.getAvailableImages(ratio = this.ratio, cat = null);\n    }\n\n    /**\n     * @param ratio\n     * @returns {any}\n     */\n    getRatioData(ratio) {\n\n        this.setRatioData(ratio);\n        this._imageManagerDirectoriesService.getRatioDirContents(this.imagerepo, ratio).subscribe(\n            data => {\n                try {\n                    data = data;\n                } catch (e) {\n                    return;\n                }\n\n                this.image_categories = data;\n\n                if (data) {\n                    this.image_categories = data;\n                    this.imageRatioStatus = true;\n\n                } else {\n                }\n            },\n            error => console.log(error)\n        );\n        return this.ratioDirectory;\n    }\n\n    /**\n     * Get category images by ratio and category from stock-images (imagerepo) directory\n     * @param ratio\n     * @param category\n     * @returns {any}\n     */\n    getAvailableImages(ratio, category) {\n        this._imageManagerDirectoriesService.getImages(this.ratio, this.category, this.imagerepo).subscribe(\n            data => {\n\n                try {\n                    data = data;\n                } catch (e) {\n                    return;\n                }\n\n                this.available_image_thumbs = data;\n\n                if (data) {\n                    this.available_image_thumbs = data;\n                    this.selectedSuccessMessage = this.ratio + ' ' + this.category;\n\n                    this.available_image_thumbs.forEach(function (img) {\n                    });\n\n                } else {\n                    this.noImagesMessage = 'No images available for this ratio';\n                }\n            },\n            error => console.log(error)\n        );\n\n        return this.available_image_thumbs;\n    }\n\n    /**\n     * @param account\n     * @param currentname\n     * @param newname\n     * @param ind\n     */\n    renameAndCopyToLocalDir(account = this.sitecontext, currentname = this.currentFileName, newname = this.newFileName, ind = this.ind) {\n\n        let rat = this.ratio;\n        let cat = this.category;\n\n        if (!newname) {\n\n            this.pageTitleError = false;\n            this.pageTitleSelectedMsg = 'Select page title first';\n\n        } else {\n            this.pageTitleSelectedMsg = '';\n            this.pageTitleError = true;\n            let newcleanedfilename = newname.replace(/[^a-zA-Z0-9]/g, '-').replace(/--/g, '-').toLowerCase().replace(/-$/, '').trim();\n\n            this._imageManagerCopyToLocalDirService.copyImagesToLocal(account, currentname, newcleanedfilename, rat, cat, this.imagerepo).subscribe(\n                data => {\n                    this.setSelectedPageActive(null);\n                    this.currentFileName = null;\n                    this.newFileName = null;\n                    this.getLocalFiles();\n                    this._snackBarService.openSnackBar('Your image has been copied to local directory!', '');\n                },\n                error => 'No page name selected'\n            );\n        }\n    }\n\n    /**\n     * Set status messages\n     * @param lp\n     */\n    setSelectedPageActive(lp) {\n        if (lp == null) {\n            this.pageSelected = null;\n            this.pageTitleSelectedMsg = 'Add another? Select page title';\n            this.pageTitleError = false;\n            this.selectImageStatus = false\n            return;\n        } else {\n            this.pageSelected = lp;\n            this.pageTitleError = true;\n            this.pageTitleSelectedMsg = '';\n            this.selectImageStatus = true;\n            this.selectImageStatusMsg = 'Select image';\n            this.imageCategoriesStatusMsg = 'Select a ratio and category';\n            return;\n        }\n    }\n\n    /**\n     * start delete\n     * @param i\n     * @param el\n     */\n    confirmDeleteMessage(i, el) {\n        this.confirm = true;\n        this.cancel = true;\n        this.deleteConfirmationArray[i] = true;\n    }\n\n    /**\n     * Delete form item\n     * @param i\n     * @param itemVal\n     * @param status\n     * @returns {boolean}\n     */\n    confirmDelete(i, itemVal, status) {\n\n        if (status === 'deleteItem') {\n            this.removeItem(i, itemVal);\n            this.deleteConfirmationArray[i] = false;\n\n        } else if (status === 'cancelDeleteItem') {\n            this.deleteConfirmationArray[i] = false;\n            return false\n        }\n    }\n\n    /**\n     * Deletes file from account-name /assets/uploads/images/itemVal using php unlink\n     * @param sitecontext\n     * @param itemVal\n     */\n    deleteImageManagerImage(sitecontext, itemVal, i) {\n        // deletes image from assets/uploads/images using endpoint\n        this._imageManagerCopyToLocalDirService.deleteImageFromLocalDir(sitecontext, 'uploads/images', itemVal).subscribe(\n            data => {\n                // do not show img element if n/a\n                this.local_images = this.local_images.filter((image, idx) => i !== idx);\n            },\n            error => console.log(error)\n        );\n    }\n\n    /**\n     * Remove items from the list\n     * @param i\n     * @param itemVal\n     */\n\n    @ViewChild(\"removedImage\", {static: false}) myValue: ElementRef;\n    @ViewChild(\"infoBarWrap\", {static: false}) infoBarWrap: ElementRef;\n\n    removeItem(i: number, itemVal: any) {\n        this.deleteImageManagerImage(this.sitecontext.account, itemVal, i);\n\n    }\n}\n","import {NgModule, CUSTOM_ELEMENTS_SCHEMA} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {RouterModule} from '@angular/router';\n// import {AccordionModule} from 'ngx-bootstrap';\nimport {SharedDataModule} from '../shared/shared-data/shared-data.module';\nimport {SharedFileManageModule} from '../shared/shared-file-manage/shared-file-manage.module';\nimport {SharedFormattingModule} from '../shared/shared-formatting/shared-formatting.module';\nimport {ImageManagerComponent} from './image-manager.component';\nimport {ImageManagerDirectoriesService} from './image-manager-directories.service';\nimport {ImageManagerCopyToLocalDirService} from './image-manager-copy-to-local-dir.service';\nimport {ManageLibraryPagesService} from '../admin-dashboard/admin-image-manager/manage-library-pages.service';\nimport {ROUTES} from './image-manager.routes';\nimport {UtilitiesModule} from '../utilities/utilities.module';\nimport {MenuModule} from '../menu/menu.module';\nimport {SearchLibraryPages} from './search-library-pages.pipe';\nimport {MatButtonModule} from \"@angular/material/button\";\nimport {MatIconModule} from \"@angular/material/icon\";\nimport {ImageManagerDeleteDirective} from \"../directives/image-manager-delete.directive\";\nimport {MatCardModule} from \"@angular/material/card\";\nimport {SnackbarService} from \"../services/snackbar.service\";\nimport {MatSnackBarModule} from \"@angular/material/snack-bar\";\n\n@NgModule({\n    providers: [\n        ImageManagerDirectoriesService,\n        ImageManagerCopyToLocalDirService,\n        ManageLibraryPagesService,\n        SnackbarService\n    ],\n    imports: [\n        // AccordionModule.forRoot(),\n        CommonModule,\n        FormsModule,\n        MenuModule,\n        ReactiveFormsModule,\n        SharedFormattingModule,\n        SharedDataModule,\n        SharedFileManageModule,\n        UtilitiesModule,\n        RouterModule.forChild(ROUTES),\n        MatButtonModule,\n        MatIconModule,\n        MatCardModule,\n        MatSnackBarModule\n\n    ],\n    declarations: [ImageManagerDeleteDirective, ImageManagerComponent, SearchLibraryPages],\n    exports: [ImageManagerComponent],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class ImageManagerModule {}\n","import {Routes} from \"@angular/router\";\nimport {ImageManagerComponent} from \"./image-manager.component\";\n\nexport const ROUTES: Routes = [\n    { path: '', component: ImageManagerComponent }\n];","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'searchlibrarypages',\n    pure: false\n})\nexport class SearchLibraryPages implements PipeTransform {\n    transform(pages: any, searchPages: any): any {\n        if(searchPages == null) return pages;\n\n        return pages.filter(function(searchjson){\n            return searchjson.lib_page.toLowerCase().indexOf(searchPages.toLowerCase()) > -1;\n        })\n    }\n}","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Directive","Renderer2","ElementRef","HostListener","ImageManagerDeleteDirective","constructor","renderer","el","ngOnInit","onClick","$event","console","info","log","component","inputs","innerHTML","addClass","nativeElement","args","selector","Injectable","HttpClient","HttpHeaders","ImageManagerDirectoriesService","_http","getRatioDirectories","ratiodir","get","getRatioDirContents","imagerepo","r","setImageRatioData","ratio","body","JSON","stringify","headers","append","post","setImageCategoryData","category","getImages","Component","Input","ViewChild","SiteContextProviderService","ImageManagerCopyToLocalDirService","ShowHideContentService","ManageLibraryPagesService","SnackbarService","ImageManagerComponent","_imageManagerDirectoriesService","_siteContextProviderService","_imageManagerCopyToLocalDirService","_manageLibraryPagesService","_snackBarService","_showHideContent","lib_page","ngAfterViewInit","onGetSiteContext","getRatioDirs","image_categories","imageCategoriesStatus","imageCategoriesStatusMsg","imageRatioStatus","imageRatioStatusMsg","getPageTitles","getData","subscribe","res","data","e","library_pages","error","getCurrentContext","sitecontext","getLocalFiles","listLocalAccountImages","account","localImageData","localimg","Date","getTime","toString","local_images","noImagesMessage","showHide","item","showHideContent","image_ratios","selectImageCategory","cat","imageCategory","categorydata","imageManager","getAvailableImages","pageTitleError","pageTitleSelectedMsg","setRatioData","ratioSelected","ratiodata","getRatioData","ratioDirectory","available_image_thumbs","selectedSuccessMessage","forEach","img","renameAndCopyToLocalDir","currentname","currentFileName","newname","newFileName","ind","rat","newcleanedfilename","replace","toLowerCase","trim","copyImagesToLocal","setSelectedPageActive","openSnackBar","lp","pageSelected","selectImageStatus","selectImageStatusMsg","confirmDeleteMessage","i","confirm","cancel","deleteConfirmationArray","confirmDelete","itemVal","status","removeItem","deleteImageManagerImage","deleteImageFromLocalDir","filter","image","idx","static","template","NgModule","CUSTOM_ELEMENTS_SCHEMA","FormsModule","ReactiveFormsModule","CommonModule","RouterModule","SharedDataModule","SharedFileManageModule","SharedFormattingModule","ROUTES","UtilitiesModule","MenuModule","SearchLibraryPages","MatButtonModule","MatIconModule","MatCardModule","MatSnackBarModule","ImageManagerModule","providers","imports","forChild","declarations","exports","schemas","path","Pipe","transform","pages","searchPages","searchjson","indexOf","name","pure"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}