{"version":3,"file":"src_app_login_builder_builder_module_ts.js","mappings":"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","sources":["./src/app/login/builder/builder.component.ts","./src/app/login/builder/builder.module.ts","./src/app/login/builder/builder.routes.ts","./src/app/login/builder/builder.component.css"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {BuilderService} from \"./builder.service\";\nimport {FormArray, FormBuilder, FormControl, FormGroup, NgForm} from \"@angular/forms\";\nimport {ShowHideContentService} from \"../../services/show-hide-content.service\";\nimport {SnackbarService} from \"../../services/snackbar.service\";\nimport {CdkDragDrop, moveItemInArray} from \"@angular/cdk/drag-drop\";\n\n@Component({\n    selector: 'dev-builder',\n    templateUrl: './builder.component.html',\n    styleUrls: ['./builder.component.css']\n})\nexport class BuilderComponent implements OnInit {\n\n    public builderForm: FormGroup;\n    public builder: string;\n    public account: string;\n    public date: string;\n    public snippetTitle: string;\n    public snippet: string;\n    public builderFormDataArray: any[] = [];\n    public deleteConfirmationArray: boolean[] = [];\n    public confirm: boolean = false;\n    public cancel: boolean = false;\n\n    constructor(\n        private _builderService: BuilderService,\n        private _showHideContent: ShowHideContentService,\n        private _snackBarService: SnackbarService,\n        private _fb: FormBuilder,\n    ) {\n        this.builderForm = new FormGroup({\n            builder: new FormControl(),\n            account: new FormControl(),\n            date: new FormControl(),\n            snippetTitle: new FormControl(),\n            snippet: new FormControl(),\n            items: new FormArray([])\n        })\n    }\n\n    ngOnInit(): void {\n        this.getFormData();\n    }\n\n    drop(event: CdkDragDrop<any[]>) {\n        moveItemInArray((<FormArray>this.builderForm.controls['items']).controls, event.previousIndex, event.currentIndex);\n        this.builderForm.controls['items'].updateValueAndValidity();\n    }\n\n    getFormData() {\n        this._builderService.getBuilderData().subscribe(res => {\n\n                let data = res;\n                console.log('Builder data retrieved: ' + new Date().toUTCString());\n                this.builderFormDataArray = data.items;\n                this.builderForm = this._fb.group({\n                    builder: [data.builder],\n                    items: this._fb.array([])\n                });\n\n                let builderForm = this.builderForm;\n                let component = this;\n\n                this.deleteConfirmationArray = [];\n\n                // create an array from builder-data.json\n                this.builderFormDataArray.forEach(function (item) {\n\n                    let control = <FormArray>builderForm.controls['items'];\n\n                    control.push(component._fb.group({\n                        // builder: [item.builder],\n                        account: [item.account],\n                        date: [item.date],\n                        snippetTitle: [item.snippetTitle],\n                        snippet: [item.snippet],\n                    }));\n\n                    component.deleteConfirmationArray.push(false);\n\n                });\n            },\n            error => console.log(error)\n        );\n\n        return this.builderFormDataArray;\n    }\n\n    setBuilderData(form: NgForm) {\n        let builderform = this.builderForm; // Form values\n\n        console.log(form.value.snippetTitle);\n        let builderdata = {\n            builder: form.value.builder,\n            items: form.value.items\n        };\n        // console.log(form.value['items'][0].account);\n\n        console.log(builderdata);\n        this._builderService.postBuilderData(builderdata);\n        // location.reload();\n    }\n\n\n    /**\n     * Create Form Group\n     * @returns {FormGroup}\n     *\n     */\n    initItem() {\n        return this._fb.group({\n            account: [''],\n            date: [''],\n            snippetTitle: [''],\n            snippet: ['']\n        })\n    }\n\n        /**\n         * Add item to the list\n         */\n        addItem(e)\n        {\n            const control = <FormArray>this.builderForm.controls['items'];\n            control.insert(0, this.initItem());\n        }\n\n        /**\n         *\n         * @param i\n         * @param el\n         */\n        confirmDeleteMessage(i)\n        {\n            this.confirm = true;\n            this.cancel = true;\n            this.deleteConfirmationArray[i] = true;\n        }\n\n        /**\n         * Delete form item\n         * @param i\n         * @param itemVal\n         * @param status\n         * @returns {boolean}\n         */\n\n        confirmDelete(i, itemVal, status)\n        {\n            if (status == \"deleteItem\") {\n                this.removeItem(i, itemVal);\n                this.deleteConfirmationArray[i] = false;\n            } else if (status == 'cancelDeleteItem') {\n                this.deleteConfirmationArray[i] = false;\n                return false\n            }\n        }\n\n        /**\n         * Remove items from the list\n         * @param i\n         * @param itemVal\n         */\n        removeItem(i\n    :\n        number, itemVal\n    :\n        NgForm\n    )\n        {\n            const control = <FormArray>this.builderForm.controls['items'];\n            control.removeAt(i);\n        }\n\n    }\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {BuilderService} from \"./builder.service\";\nimport {BuilderComponent} from \"./builder.component\";\nimport {SharedDataModule} from \"../../shared/shared-data/shared-data.module\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {RouterModule} from \"@angular/router\";\nimport {GetHubNavigationModule} from \"../../get-hub-navigation/get-hub-navigation.module\";\nimport {CreateSeedModule} from \"../../create-seed/create-seed.module\";\nimport {MatExpansionModule} from \"@angular/material/expansion\";\nimport {MatCheckboxModule} from \"@angular/material/checkbox\";\nimport {MatSelectModule} from \"@angular/material/select\";\nimport {MatInputModule} from \"@angular/material/input\";\nimport {MatFormFieldModule} from \"@angular/material/form-field\";\nimport {MatOptionModule} from \"@angular/material/core\";\nimport {MatIconModule} from \"@angular/material/icon\";\nimport {DragDropModule} from \"@angular/cdk/drag-drop\";\nimport {MatButtonModule} from \"@angular/material/button\";\nimport {MatDividerModule} from \"@angular/material/divider\";\nimport {MatCardModule} from \"@angular/material/card\";\nimport {ROUTES} from \"../../login/builder/builder.routes\";\nimport {SnackbarService} from \"../../services/snackbar.service\";\nimport {MatSnackBarModule} from \"@angular/material/snack-bar\";\nimport {ReplaceDashSpace} from \"../../pipes/replace-dash-space\";\nimport {SharedFormattingModule} from \"../../shared/shared-formatting/shared-formatting.module\";\nimport {AddSaveButtonsModule} from \"../../partials/add-save-buttons/add-save-module\";\n\n@NgModule({\n    providers: [\n        BuilderService,\n        SnackbarService,\n        ReplaceDashSpace,\n    ],\n    declarations: [BuilderComponent],\n    exports: [BuilderComponent],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(ROUTES),\n        SharedDataModule,\n        SharedFormattingModule,\n        HttpClientModule,\n        FormsModule,\n        ReactiveFormsModule,\n        RouterModule,\n        GetHubNavigationModule,\n        CreateSeedModule,\n        MatExpansionModule,\n        MatExpansionModule,\n        MatCheckboxModule,\n        MatSelectModule,\n        MatInputModule,\n        MatFormFieldModule,\n        MatOptionModule,\n        MatIconModule,\n        DragDropModule,\n        MatButtonModule,\n        MatDividerModule,\n        MatCardModule,\n        MatSnackBarModule,\n        AddSaveButtonsModule,\n    ]\n\n})\nexport class BuilderModule {\n}\n","import {Routes} from \"@angular/router\";\nimport {BuilderComponent} from \"./builder.component\";\n\nexport const ROUTES: Routes = [\n    { path: '', component: BuilderComponent }\n];\n\n\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","BuilderService","FormArray","FormBuilder","FormControl","FormGroup","ShowHideContentService","SnackbarService","moveItemInArray","BuilderComponent","constructor","_builderService","_showHideContent","_snackBarService","_fb","builderForm","builder","account","date","snippetTitle","snippet","items","ngOnInit","getFormData","drop","event","controls","previousIndex","currentIndex","updateValueAndValidity","getBuilderData","subscribe","res","data","console","log","Date","toUTCString","builderFormDataArray","group","array","component","deleteConfirmationArray","forEach","item","control","push","error","setBuilderData","form","builderform","value","builderdata","postBuilderData","initItem","addItem","e","insert","confirmDeleteMessage","i","confirm","cancel","confirmDelete","itemVal","status","removeItem","removeAt","selector","template","NgModule","CommonModule","SharedDataModule","HttpClientModule","FormsModule","ReactiveFormsModule","RouterModule","GetHubNavigationModule","CreateSeedModule","MatExpansionModule","MatCheckboxModule","MatSelectModule","MatInputModule","MatFormFieldModule","MatOptionModule","MatIconModule","DragDropModule","MatButtonModule","MatDividerModule","MatCardModule","ROUTES","MatSnackBarModule","ReplaceDashSpace","SharedFormattingModule","AddSaveButtonsModule","BuilderModule","providers","declarations","exports","imports","forChild","path"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}